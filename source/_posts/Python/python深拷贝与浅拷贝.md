---
title: python深拷贝与浅拷贝
date: 2022-02-07 00:23:57
tags: Python
---

首先需要了解下几个概念变量：是一个系统表的元素，拥有指向对象的连接空间 对象：被分配的一块内存，存储其所代表的值 引用：是自动形成的从变量到对象的指针 类型：属于对象，而非变量 不可变对象：一旦创建就不可修改的对象，包括字符串、元组、数值类型 （该对象所指向的内存中的值不能被改变。当改变某个变量时候，由于其所指的值不能被改变，相当于把原来的值复制一份后再改变，这会开辟一个新的地址，变量再指向这个新的地址。）可变对象：可以修改的对象，包括列表、字典、集合（该对象所指向的内存中的值可以被改变。变量（准确的说是引用）改变后，实际上是其所指的值直接发生改变，并没有发生复制行为，也没有开辟新的地址，通俗点说就是原地改变。）
![](/images/Python/关于对象变量等概念.jpg)


- 对于不可变对象的深浅拷贝
不可变对象类型，没有被拷贝的说法，即便是用深拷贝，查看id的话也是一样的，如果对其重新赋值，也只是新创建一个对象，替换掉旧的而已。
一句话就是，不可变类型，不管是深拷贝还是浅拷贝，地址值和拷贝后的值都是一样的。

- 对于可变对象深浅拷贝
赋值： 值相等，地址相等
copy浅拷贝：值相等，地址不相等
deepcopy深拷贝：值相等，地址不相等

- 对于可变对象深浅拷贝(内层/外层改变元素)
外层添加元素时，浅拷贝不会随原列表变化而变化；内层添加元素时，浅拷贝才会变化。
无论原列表如何变化，深拷贝都保持不变。
赋值对象随着原列表一起变化。



### 学习资料
- 知乎解释
https://www.zhihu.com/search?type=content&q=python%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D
Python中的赋值(复制)、浅拷贝与深拷贝 - 晚来天欲雪的文章 - 知乎 https://zhuanlan.zhihu.com/p/54011712

